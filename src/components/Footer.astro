---
import { SITE, SOCIALS } from "@consts"
import Container from "@components/Container.astro"
---

<footer class="relative bg-background border-t border-card-border mt-auto">
  <div class="animate">
    <section class="py-12">
      <Container size="lg">
        <div class="flex flex-col md:flex-row items-center justify-between gap-8 md:gap-4">
          <div class="flex flex-col items-center md:items-start gap-3 md:gap-2">
            <div class="flex items-center gap-4 md:gap-2">
              <a href="/legal/terms" class="text-sm font-medium text-subtle hover:text-foreground transition-colors duration-300">
                Terms
              </a>
              <span class="text-card-border hidden md:inline">â€¢</span>
              <a href="/legal/privacy" class="text-sm font-medium text-subtle hover:text-foreground transition-colors duration-300">
                Privacy
              </a>
            </div>
            <div class="text-sm text-subtle/70">
              &copy; {new Date().getFullYear()} {SITE.TITLE} | All rights reserved
            </div>
          </div>
  
          <div class="flex flex-wrap items-center justify-center gap-4 md:gap-6">
            <div class="flex gap-2">
              {
                SOCIALS.map((SOCIAL) => (
                  <a 
                    href={SOCIAL.HREF} 
                    target="_blank" 
                    aria-label={`${SITE.TITLE} on ${SOCIAL.NAME}`} 
                    class="group size-10 flex items-center justify-center rounded-full border border-transparent hover:border-card-border hover:bg-card transition-all duration-300"
                  >
                    <svg class="size-5 fill-subtle group-hover:fill-foreground transition-colors duration-300">
                      <use href={`/social.svg#${SOCIAL.ICON}`} />
                    </svg>
                  </a>
                ))
              }
            </div>
            
            <div class="hidden md:block w-px h-6 bg-card-border mx-1"></div>
            
            <button id="back-to-top" aria-label="Back to top of page" class="group size-10 flex items-center justify-center rounded-full bg-accent/10 hover:bg-accent hover:shadow-[0_0_15px_rgba(94,234,212,0.4)] transition-all duration-300 shrink-0">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-accent group-hover:text-background transition-colors duration-300 -rotate-90">
                <line x1="12" y1="19" x2="12" y2="5" class="translate-y-2 group-hover:translate-y-0 transition-all duration-300 ease-in-out" />
                <polyline points="5 12 12 5 19 12" class="translate-y-2 group-hover:translate-y-0 transition-all duration-300 ease-in-out" />
              </svg>
            </button>
          </div>
        </div>
      </Container>
    </section>
  </div>
</footer>

<script is:inline>
  function goBackToTop(event) {
    event.preventDefault()
    window.scrollTo({
        top: 0,
        behavior: "smooth"
    })
  }

  function inintializeBackToTop() {
    const backToTop = document.getElementById("back-to-top")
    backToTop?.addEventListener("click", goBackToTop)
  }

  document.addEventListener("astro:after-swap", inintializeBackToTop)
  inintializeBackToTop()
</script>
